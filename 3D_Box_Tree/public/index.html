<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>My first three.js app</title>
		<style>
			body {
				margin: 0;
			}
			canvas {
				display: block;
			}
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/three@0.116.1/examples/js/loaders/OBJLoader.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/three@0.116.1/examples/js/loaders/MTLLoader.js"></script>
		<script src="js/orbitControls.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(
				100,
				window.innerWidth / window.innerHeight,
				0.1,
				1000
			);

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize(
				window.innerWidth,
				window.innerHeight
			);
			// shadows
			renderer.shadowMap.enabled = true;
			renderer.shadowMap.type = THREE.PCFSoftShadowMap;
			document.body.appendChild(renderer.domElement);

			// additional settings
			scene.background = new THREE.Color(
				"rgb(118, 94, 255)"
			);
			camera.position.x = 5;
			camera.position.y = 10;
			camera.position.z = 10;

			var controls = new THREE.OrbitControls(
				camera,
				renderer.domElement
			);
			controls.addEventListener("change", function () {
				renderer.render(scene, camera);
			});

			// lights
			var pointLight = new THREE.PointLight(
				0x404040,
				1,
				5000,
				2
			);
			pointLight.position.set(5, 20, 5);
			pointLight.castShadow = true;
			// shadows
			pointLight.shadow.mapSize.width = 1024;
			pointLight.shadow.mapSize.height = 1024;

			var ambientLight = new THREE.AmbientLight(
				0x404040,
				1
			);

			// plane
			var plane = new THREE.Mesh(
				new THREE.PlaneGeometry(10, 10, 5, 5),
				new THREE.MeshBasicMaterial({
					color: 0x222222,
					wireframe: true,
				})
			);
			plane.rotateX(Math.PI / 2);

			// cube object
			var geometry = new THREE.BoxGeometry(5, 5, 5);
			var material = new THREE.MeshStandardMaterial({
				color: 0x6c42f5,
			});
			var cube = new THREE.Mesh(geometry, material);
			cube.castShadow = true;
			cube.receiveShadow = true;
			cube.position.y += 3;
			//cube.rotation.x += 0.4;
			//cube.rotation.y -= 0.6;

			scene.add(pointLight);
			scene.add(ambientLight);
			scene.add(plane);

			scene.add(cube);

			renderer.render(scene, camera);
		</script>
	</body>
</html>
